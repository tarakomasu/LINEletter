承知いたしました。これまでの会話で議論された内容と、提供されたソース内の`setDimensions()`メソッドのAPI定義に基づき、その仕様をMarkdown形式でまとめます。

---

# `setDimensions()` メソッド仕様 (Fabric.js)

`setDimensions()`は、Fabric.jsにおける**Canvas**インスタンス（`Canvas`クラスまたは`StaticCanvas`クラス）の幅と高さを設定するために使用されるメソッドです。

このメソッドは、キャンバスの**論理寸法（CSS寸法）**と**内部描画寸法（バックストア寸法）**のどちら、または両方を制御する柔軟な手段を提供します。

### 1. メソッドの概要

| 項目 | 詳細 |
| :--- | :--- |
| **適用クラス** | `Canvas` (StaticCanvasから継承) |
| **目的** | キャンバスインスタンスの寸法 (`width`, `height`) を設定する。 |
| **引数** | 寸法オブジェクト (`dimensions`) とオプションオブジェクト (`options?`)。 |

### 2. 寸法の種類とCanvasのプロパティ

Fabric.jsのキャンバスには、主に2つの寸法が存在します。

| 種類 | 役割と関連プロパティ | ソース情報 |
| :--- | :--- | :--- |
| **CSS寸法（論理ピクセル）** | ユーザーに見えるキャンバスの視覚的なサイズ。`width` および `height` プロパティで定義され、**仮想/論理ピクセル**で示されます。Retinaスケーリングがアクティブな場合、内部描画サイズはこれよりも大きくなることがあります。| |
| **バックストア寸法** | 描画が実際に行われる内部的なビットマップのサイズ。この寸法は、`enableRetinaScaling` が`true`の場合、CSS寸法に基づいてデバイスピクセル比により自動的にスケーリングされ、高解像度レンダリングを可能にします。 | (間接的に) |

### 3. メソッドのシグネチャとオプション

`setDimensions(dimensions, options?)` には、オプション引数によって動作を細かく制御できる複数のコールシグネチャがあります。

#### 3-1. CSS寸法のみを設定するモード

このモードでは、提供された寸法はCSS寸法としてのみ設定されます。

| パラメータ/オプション | 設定値 | 説明 |
| :--- | :--- | :--- |
| **`dimensions`** | `Partial < CSSDimensions >` | `width`/`height`プロパティを含むオブジェクト。 |
| **`options.cssOnly`** | `true` (このシグネチャではデフォルト) | 提供された寸法は**CSS寸法としてのみ**設定されます。 |
| **`options.backstoreOnly`** | `false` (このシグネチャではデフォルト) | バックストア寸法は設定されません。 |
| **備考** | `cssOnly`フラグがアクティブな場合、寸法の単位 (`px`/`%`/`em`など) も提供する必要があります。 |

#### 3-2. バックストア寸法のみを設定するモード

このモードでは、提供された寸法はキャンバスの内部的なバックストア寸法としてのみ設定されます。

| パラメータ/オプション | 設定値 | 説明 |
| :--- | :--- | :--- |
| **`dimensions`** | `Partial <TSize>` | `width`/`height`プロパティを含むオブジェクト。 |
| **`options.backstoreOnly`** | `true` (このシグネチャではデフォルト) | 提供された寸法はキャンバスの**バックストア寸法としてのみ**設定されます。 |
| **`options.cssOnly`** | `false` (このシグネチャではデフォルト) | CSS寸法は設定されません。 |

#### 3-3. オプションなしのコール（両方を設定）

オプションオブジェクトを省略した場合、寸法は設定されますが、ソースにはオプションが`undefined`であると示されています。通常、これは両方の寸法が設定されることを意味しますが、ソースの定義上は以下の通りです。

| パラメータ/オプション | 設定値 | 説明 |
| :--- | :--- | :--- |
| **`dimensions`** | `Partial <TSize>` | `width`/`height`プロパティを含むオブジェクト。 |
| **`options?`** | `undefined` | オプションオブジェクトは提供されません。 |

---